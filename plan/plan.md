# i18n փոփոխությունների պլան

## Նպատակ
- Տեղադրել JSON-հիմքով բազմալեզու աջակցություն (en, hy սկսնակ փաթեթ), առանց հավելյալ փաթեթների։
- Բոլոր օգտատերերին տեսանելի տեքստերը դուրս բերել կոմպոնենտներից/ԲԴ-ից և պահել `locales/*`-ում։
- Ապրանքի կառուցվածքային տվյալները մնան միայն ԲԴ-ում, թարգմանվող դաշտերը՝ JSON-ում։

## Նախնական սահմանումներ
- Թարգմանվող չեն: id, slug, sku, price, stock, category, attribute code-երը (`color`, `size` և այլն)։
- Թարգմանվող են: UI պիտակներ, էջերի վերնագրեր/նկարագրություններ, ապրանքի վերնագրեր/նկարագրություններ, ատրիբուտների ցուցադրելի պիտակներ։
- Լեզվի աղբյուր: պարզաբանել առկա մեխանիզմը (URL prefix, query, context) և տարածել `lang` արժեքը բոլոր օգտագործող կոմպոնենտներին։

## Փուլեր
1) Վերլուծություն
   - Գտնել բոլոր կոմպոնենտները/էջերը, որտեղ կան կոշտ տեքստեր։
   - Գտնել որտեղից է գալիս ապրանքի վերնագիր/նկարագրություն (ԲԴ կամ կոշտ տեքստ)։
   - Նշել որտեղ են ատրիբուտների ցուցադրելի պիտակները (գույն, չափ)։
2) Տեղայինացումների կառուցվածք
   - Ստեղծել `locales/{en,hy,ru}/` ենթաթղթապանակներ։
   - Ֆայլեր յուրաքանչյուր լեզվի համար՝ `common.json`, `home.json`, `product.json`, `products.json`, `attributes.json`։
   - Ապահովել նույն բանալիների կառուցվածք բոլոր լեզուներում։
3) Օգնականներ
   - `t(lang, path)`: namespace + key, ապահով fallback (վերադարձնել path կամ դատարկ)։
   - `getProductText(lang, productId, field)`: կարդալ `products.json` տվյալ լեզվի համար, fallback դատարկ տող։
   - `getAttributeLabel(lang, type, value)`: կարդալ `attributes.json`, fallback՝ code-ը։
4) Ռեֆակտորինգ
   - Home/ստատիկ էջեր: կոշտ տեքստերը փոխարինել `t(lang, "namespace.key")` կանչերով։
   - Product էջ: վերնագիր/նկարագրություններ վերցնել `getProductText`-ով; ստատիկ բաժինների պիտակները՝ `t(lang, "product.*")`; ատրիբուտների պիտակները՝ `getAttributeLabel`։
   - Համոզվել, որ `lang` փոխանցվում է բոլոր օգտագործող կոմպոնենտներին։
5) Վավերացում
   - Build/check: նախագծի հավաքում։
   - Լեզվի փոխարկում (en ↔ hy): ստատիկ տեքստեր, ապրանքի վերնագրեր/նկարագրություններ, ատրիբուտ պիտակներ փոխվում են։
6) Թեստեր
   - Միավոր թեստեր helpers-ի համար (fallback-եր, ճիշտ namespace/key լուծում)։
   - Smoke/E2E կարևոր հոսքերի (home/product էջ) բազմալեզու ստուգում։

## Ռիսկեր և նշումներ
- Բանալիերի անհամապատասխանություն լեզուների միջև → օգտագործել միևնույն կառուցվածքը։
- Ատրիբուտների code-երը պետք է լինեն հաստատուն և一致 ԲԴ-ում և JSON-ում։
- Հնարավոր է պետք լինի թեթև refactor, щоб `lang` արժեքը հասնի բոլոր ենթակոմպոնենտներին։

